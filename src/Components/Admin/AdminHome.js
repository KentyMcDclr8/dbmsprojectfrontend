import React, { useEffect, useState } from 'react'
import { FileExclamationOutlined, FileOutlined, BranchesOutlined, WindowsOutlined, ProfileOutlined, InboxOutlined, HistoryOutlined, UsergroupAddOutlined } from '@ant-design/icons'
import { Button, message, Layout, Menu, Row, theme } from 'antd'
import AdminHomeDashboard from './pages/AdminHomeDashboard'
import DatabaseOverview from './pages/DatabaseOverview'
import EmployeeAccountsDashboard from './pages/EmployeeAccountsDashboard'
import ReportsDashboard from './pages/ReportsDashboard'

const { Header, Content, Footer, Sider } = Layout

const MenuItems = [
  {
    key: 'Dashboard',
    icon: React.createElement(WindowsOutlined),
    label: 'Dashboard'
  },
  {
    key: 'Database Overview',
    icon: React.createElement(ProfileOutlined),
    label: 'Database Overview'
  },
  {
    key: 'Manage Employee Accounts',
    icon: React.createElement(UsergroupAddOutlined),
    label: 'Manage Employee Accounts'
  },
  {
    key: 'View Reports',
    icon: React.createElement(FileOutlined),
    label: 'View Reports'
  }
]

const AdminHome = ({ logoutHandler }) => {
  const [currentDashboard, setCurrentDashboard] = useState(<AdminHomeDashboard />)
  const [page, setPage] = useState('Dashboard')

  const {
    token: { colorBgContainer }
  } = theme.useToken()

  const goBack = () => {
    setCurrentDashboard(<AdminHomeDashboard />)
  }

  useEffect(() => {
    switch (page) {
      case 'Dashboard':
        setCurrentDashboard(<AdminHomeDashboard />)
        break
      case 'Database Overview':
        setCurrentDashboard(<DatabaseOverview />)
        break
      case 'Manage Employee Accounts':
        setCurrentDashboard(<EmployeeAccountsDashboard />)
        break
      case 'View Reports':
        setCurrentDashboard(<ReportsDashboard />)
        break
    }

    console.log('page changed')
  }, [page])

  const pageChangeHandler = (menuItem) => {
    switch (menuItem.key) {
      case 'Dashboard':
        setCurrentDashboard(<AdminHomeDashboard />)
        break
      case 'Database Overview':
        setCurrentDashboard(<DatabaseOverview />)
        break
      case 'Manage Employee Accounts':
        setCurrentDashboard(<EmployeeAccountsDashboard />)
        break
      case 'View Reports':
        setCurrentDashboard(<ReportsDashboard />)
        break
    }
  }

  const logout = () => {
    logoutHandler('Login')
    message.warning('Employee has been logged out')
  }

  return (
    <Layout style={{ backgroundColor: '#3c9ce4' }}>

      <Header className='header' style={{ backgroundColor: '#3c9ce4' }}>
        <div className='logo' />
        {/* <Menu theme='dark' mode='horizontal' /> */}
      </Header>
      <Content
        style={{
          padding: '0 50px'
        }}
      >

        <Layout
          style={{
            padding: '12px 0',
            background: colorBgContainer

          }}
        >
          <Sider
            style={{
              background: colorBgContainer,
              border: 'red'
            }}
            width={300}
          >
            <Row style={{
              marginBottom: '30px',
              marginLeft: '75px',
              marginTop: '30px'
            }}
            >
              <svg width='131' height='132' viewBox='0 0 131 132' fill='none' xmlns='http://www.w3.org/2000/svg'>
                <path d='M128 66C128 100.815 99.9963 129 65.5 129C31.0037 129 3 100.815 3 66C3 31.1845 31.0037 3 65.5 3C99.9963 3 128 31.1845 128 66Z' fill='white' stroke='#1890FF' stroke-width='6' />
                <path d='M93.3064 34.35H37.6936C36.3562 34.35 35.2757 35.4672 35.2757 36.85V94.35C35.2757 95.7328 36.3562 96.85 37.6936 96.85H93.3064C94.6438 96.85 95.7243 95.7328 95.7243 94.35V36.85C95.7243 35.4672 94.6438 34.35 93.3064 34.35ZM90.284 91.225H40.7161V39.975H90.284V91.225ZM52.5036 78.9594V84.975C52.5036 85.3188 52.7756 85.6 53.108 85.6H56.735C57.0674 85.6 57.3394 85.3188 57.3394 84.975V78.9594C56.5763 79.2172 55.7678 79.35 54.9215 79.35C54.0752 79.35 53.2667 79.2094 52.5036 78.9594ZM57.3394 63.4906V46.225C57.3394 45.8813 57.0674 45.6 56.735 45.6H53.108C52.7756 45.6 52.5036 45.8813 52.5036 46.225V63.4906C53.2667 63.2328 54.0752 63.1 54.9215 63.1C55.7678 63.1 56.5763 63.2406 57.3394 63.4906ZM52.5036 78.9594C53.2667 79.2172 54.0752 79.35 54.9215 79.35C55.7678 79.35 56.5763 79.2094 57.3394 78.9594C60.4979 77.9047 62.7798 74.8422 62.7798 71.225C62.7798 67.6078 60.4979 64.5453 57.3394 63.4906C56.5763 63.2328 55.7678 63.1 54.9215 63.1C54.0752 63.1 53.2667 63.2406 52.5036 63.4906C49.3451 64.5453 47.0632 67.6078 47.0632 71.225C47.0632 74.8422 49.3451 77.9047 52.5036 78.9594ZM52.5111 69.9203C52.5338 69.8734 52.564 69.8266 52.5867 69.7797V69.7719L52.6773 69.6313C52.6849 69.6156 52.6925 69.6078 52.7 69.5922C52.7227 69.5531 52.7529 69.5219 52.7756 69.4828C52.7831 69.475 52.7907 69.4594 52.7982 69.4516C52.836 69.4047 52.8662 69.3656 52.904 69.3266L52.9267 69.3031L53.0174 69.2094L53.0476 69.1781C53.0854 69.1391 53.1232 69.1078 53.1685 69.0688C53.2138 69.0297 53.2516 68.9984 53.2969 68.9672C53.3121 68.9594 53.3196 68.9516 53.3347 68.9438C53.3725 68.9203 53.4027 68.8891 53.4405 68.8656C53.4481 68.8578 53.4632 68.85 53.4707 68.8422C53.5161 68.8109 53.5614 68.7875 53.6143 68.7563C53.6219 68.7484 53.637 68.7484 53.6445 68.7406C53.6823 68.7172 53.7201 68.7016 53.7654 68.6781L53.8108 68.6547C53.8637 68.6313 53.909 68.6078 53.9619 68.5922C54.0148 68.5688 54.0677 68.5531 54.1206 68.5375C54.1357 68.5297 54.1508 68.5297 54.1659 68.5219C54.2112 68.5063 54.249 68.4984 54.2943 68.4906C54.3095 68.4906 54.317 68.4828 54.3321 68.4828C54.385 68.4672 54.4455 68.4594 54.4984 68.4516C54.5135 68.4516 54.521 68.4516 54.5361 68.4438C54.5815 68.4359 54.6268 68.4359 54.6722 68.4281H54.7175C54.7779 68.4281 54.8308 68.4203 54.8913 68.4203C54.9517 68.4203 55.0046 68.4203 55.0651 68.4281H55.1104C55.1557 68.4281 55.2011 68.4359 55.2464 68.4438C55.2615 68.4438 55.2691 68.4438 55.2842 68.4516C55.3371 68.4594 55.3975 68.4672 55.4504 68.4828C55.4655 68.4828 55.4731 68.4906 55.4882 68.4906C55.5335 68.4984 55.5789 68.5141 55.6167 68.5219C55.6318 68.5297 55.6469 68.5297 55.662 68.5375C55.7149 68.5531 55.7678 68.5688 55.8207 68.5922C55.8736 68.6078 55.9189 68.6313 55.9718 68.6547L56.0171 68.6781C56.0549 68.6938 56.1003 68.7172 56.138 68.7406C56.1456 68.7484 56.1607 68.7484 56.1683 68.7563C56.2136 68.7797 56.2665 68.8109 56.3118 68.8422C56.3194 68.85 56.3345 68.8578 56.342 68.8656C56.3798 68.8891 56.4176 68.9125 56.4478 68.9438C56.4629 68.9516 56.4705 68.9594 56.4856 68.9672C56.531 68.9984 56.5763 69.0375 56.6141 69.0688C56.6518 69.1 56.6972 69.1391 56.735 69.1781L56.7652 69.2094L56.8559 69.3031L56.8785 69.3266C56.9163 69.3656 56.9541 69.4125 56.9843 69.4516C56.9919 69.4594 56.9994 69.475 57.007 69.4828C57.0372 69.5141 57.0599 69.5531 57.0825 69.5922C57.0901 69.6078 57.0977 69.6156 57.1052 69.6313L57.1959 69.7719C57.1959 69.7719 57.1959 69.7797 57.2034 69.7797C57.4554 70.2168 57.5885 70.7162 57.5888 71.225C57.5888 71.6938 57.4755 72.1391 57.279 72.5297C57.2563 72.5766 57.2261 72.6234 57.2034 72.6703C57.2034 72.6703 57.2034 72.6781 57.1959 72.6781L57.1052 72.8188C57.0977 72.8344 57.0901 72.8422 57.0825 72.8578C57.0599 72.8969 57.0297 72.9281 57.007 72.9672C56.9994 72.975 56.9919 72.9906 56.9843 72.9984C56.9465 73.0453 56.9163 73.0844 56.8785 73.1234L56.8559 73.1469L56.7652 73.2406L56.735 73.2719C56.6972 73.3109 56.6594 73.3422 56.6141 73.3813C56.5687 73.4203 56.531 73.4516 56.4856 73.4828C56.4705 73.4906 56.4629 73.4984 56.4478 73.5063C56.4101 73.5297 56.3798 73.5609 56.342 73.5844C56.3345 73.5922 56.3194 73.6 56.3118 73.6078C56.2665 73.6391 56.2211 73.6625 56.1683 73.6938C56.1607 73.7016 56.1456 73.7016 56.138 73.7094C56.1003 73.7328 56.0625 73.7484 56.0171 73.7719L55.9718 73.7953C55.9189 73.8188 55.8736 73.8422 55.8207 73.8578C55.7678 73.8813 55.7149 73.8969 55.662 73.9125C55.6469 73.9203 55.6318 73.9203 55.6167 73.9281C55.5713 73.9438 55.5335 73.9516 55.4882 73.9594C55.4731 73.9594 55.4655 73.9672 55.4504 73.9672C55.3975 73.9828 55.3371 73.9906 55.2842 73.9984C55.2691 73.9984 55.2615 73.9984 55.2464 74.0063C55.2011 74.0141 55.1557 74.0141 55.1104 74.0219H55.0651C55.0046 74.0219 54.9517 74.0297 54.8913 74.0297C54.8308 74.0297 54.7779 74.0297 54.7175 74.0219H54.6722C54.6268 74.0219 54.5815 74.0141 54.5361 74.0063C54.521 74.0063 54.5135 74.0063 54.4984 73.9984C54.4455 73.9906 54.385 73.9828 54.3321 73.9672C54.317 73.9672 54.3095 73.9594 54.2943 73.9594C54.249 73.9516 54.2037 73.9359 54.1659 73.9281C54.1508 73.9203 54.1357 73.9203 54.1206 73.9125C54.0677 73.8969 54.0148 73.8813 53.9619 73.8578C53.909 73.8422 53.8637 73.8188 53.8108 73.7953L53.7654 73.7719C53.7276 73.7563 53.6823 73.7328 53.6445 73.7094C53.637 73.7016 53.6219 73.7016 53.6143 73.6938C53.569 73.6703 53.5161 73.6391 53.4707 73.6078C53.4632 73.6 53.4481 73.5922 53.4405 73.5844C53.4027 73.5609 53.365 73.5375 53.3347 73.5063C53.3196 73.4984 53.3121 73.4906 53.2969 73.4828C53.2516 73.4516 53.2063 73.4125 53.1685 73.3813C53.1307 73.35 53.0854 73.3109 53.0476 73.2719L53.0174 73.2406L52.9267 73.1469L52.904 73.1234C52.8662 73.0844 52.8285 73.0375 52.7982 72.9984C52.7907 72.9906 52.7831 72.975 52.7756 72.9672C52.7454 72.9359 52.7227 72.8969 52.7 72.8578C52.6925 72.8422 52.6849 72.8344 52.6773 72.8188L52.5867 72.6781V72.6703C52.5565 72.6234 52.5338 72.5766 52.5111 72.5297C52.3147 72.1391 52.2013 71.6938 52.2013 71.225C52.2013 70.7563 52.3147 70.3109 52.5111 69.9203ZM73.6606 67.7094V84.975C73.6606 85.3188 73.9326 85.6 74.2651 85.6H77.892C78.2245 85.6 78.4965 85.3188 78.4965 84.975V67.7094C77.7333 67.9672 76.9248 68.1 76.0785 68.1C75.2322 68.1 74.4237 67.9594 73.6606 67.7094ZM78.4965 52.2406V46.225C78.4965 45.8813 78.2245 45.6 77.892 45.6H74.2651C73.9326 45.6 73.6606 45.8813 73.6606 46.225V52.2406C74.4237 51.9828 75.2322 51.85 76.0785 51.85C76.9248 51.85 77.7333 51.9906 78.4965 52.2406ZM73.6606 67.7094C74.4237 67.9672 75.2322 68.1 76.0785 68.1C76.9248 68.1 77.7333 67.9594 78.4965 67.7094C81.6549 66.6547 83.9369 63.5922 83.9369 59.975C83.9369 56.3578 81.6549 53.2953 78.4965 52.2406C77.7333 51.9828 76.9248 51.85 76.0785 51.85C75.2322 51.85 74.4237 51.9906 73.6606 52.2406C70.5021 53.2953 68.2202 56.3578 68.2202 59.975C68.2202 63.5922 70.5021 66.6547 73.6606 67.7094ZM73.6681 58.6703C73.6908 58.6234 73.721 58.5766 73.7437 58.5297V58.5219L73.8344 58.3813C73.8419 58.3656 73.8495 58.3578 73.857 58.3422C73.8797 58.3031 73.9099 58.2719 73.9326 58.2328C73.9402 58.225 73.9477 58.2094 73.9553 58.2016C73.9931 58.1547 74.0233 58.1156 74.0611 58.0766L74.0837 58.0531L74.1744 57.9594L74.2046 57.9281C74.2424 57.8891 74.2802 57.8578 74.3255 57.8188C74.3709 57.7797 74.4086 57.7484 74.454 57.7172C74.4691 57.7094 74.4766 57.7016 74.4918 57.6938C74.5295 57.6703 74.5598 57.6391 74.5975 57.6156C74.6051 57.6078 74.6202 57.6 74.6278 57.5922C74.6731 57.5609 74.7184 57.5375 74.7713 57.5063C74.7789 57.4984 74.794 57.4984 74.8015 57.4906C74.8393 57.4672 74.8771 57.4516 74.9224 57.4281L74.9678 57.4047C75.0207 57.3813 75.066 57.3578 75.1189 57.3422C75.1718 57.3188 75.2247 57.3031 75.2776 57.2875C75.2927 57.2797 75.3078 57.2797 75.3229 57.2719C75.3683 57.2563 75.406 57.2484 75.4514 57.2406C75.4665 57.2406 75.474 57.2328 75.4892 57.2328C75.542 57.2172 75.6025 57.2094 75.6554 57.2016C75.6705 57.2016 75.6781 57.2016 75.6932 57.1938C75.7385 57.1859 75.7838 57.1859 75.8292 57.1781H75.8745C75.935 57.1781 75.9879 57.1703 76.0483 57.1703C76.1087 57.1703 76.1616 57.1703 76.2221 57.1781H76.2674C76.3128 57.1781 76.3581 57.1859 76.4034 57.1938C76.4186 57.1938 76.4261 57.1938 76.4412 57.2016C76.4941 57.2094 76.5546 57.2172 76.6075 57.2328C76.6226 57.2328 76.6301 57.2406 76.6452 57.2406C76.6906 57.2484 76.7359 57.2641 76.7737 57.2719C76.7888 57.2797 76.8039 57.2797 76.819 57.2875C76.8719 57.3031 76.9248 57.3188 76.9777 57.3422C77.0306 57.3578 77.0759 57.3813 77.1288 57.4047L77.1742 57.4281C77.2119 57.4438 77.2573 57.4672 77.2951 57.4906C77.3026 57.4984 77.3177 57.4984 77.3253 57.5063C77.3706 57.5297 77.4235 57.5609 77.4688 57.5922C77.4764 57.6 77.4915 57.6078 77.4991 57.6156C77.5368 57.6391 77.5746 57.6625 77.6049 57.6938C77.62 57.7016 77.6275 57.7094 77.6426 57.7172C77.688 57.7484 77.7333 57.7875 77.7711 57.8188C77.8089 57.85 77.8542 57.8891 77.892 57.9281L77.9222 57.9594L78.0129 58.0531L78.0356 58.0766C78.0733 58.1156 78.1111 58.1625 78.1413 58.2016C78.1489 58.2094 78.1564 58.225 78.164 58.2328C78.1942 58.2641 78.2169 58.3031 78.2396 58.3422C78.2471 58.3578 78.2547 58.3656 78.2622 58.3813L78.3529 58.5219V58.5297C78.6048 58.9668 78.738 59.4662 78.7383 59.975C78.7383 60.4438 78.6249 60.8891 78.4285 61.2797C78.4058 61.3266 78.3756 61.3734 78.3529 61.4203V61.4281L78.2622 61.5688C78.2547 61.5844 78.2471 61.5922 78.2396 61.6078C78.2169 61.6469 78.1867 61.6781 78.164 61.7172C78.1564 61.725 78.1489 61.7406 78.1413 61.7484C78.1036 61.7953 78.0733 61.8344 78.0356 61.8734L78.0129 61.8969L77.9222 61.9906L77.892 62.0219C77.8542 62.0609 77.8164 62.0922 77.7711 62.1313C77.7258 62.1703 77.688 62.2016 77.6426 62.2328C77.6275 62.2406 77.62 62.2484 77.6049 62.2563C77.5671 62.2797 77.5368 62.3109 77.4991 62.3344C77.4915 62.3422 77.4764 62.35 77.4688 62.3578C77.4235 62.3891 77.3782 62.4125 77.3253 62.4438C77.3177 62.4516 77.3026 62.4516 77.2951 62.4594C77.2573 62.4828 77.2195 62.4984 77.1742 62.5219L77.1288 62.5453C77.0759 62.5688 77.0306 62.5922 76.9777 62.6078C76.9248 62.6313 76.8719 62.6469 76.819 62.6625C76.8039 62.6703 76.7888 62.6703 76.7737 62.6781C76.7284 62.6938 76.6906 62.7016 76.6452 62.7094C76.6301 62.7094 76.6226 62.7172 76.6075 62.7172C76.5546 62.7328 76.4941 62.7406 76.4412 62.7484C76.4261 62.7484 76.4186 62.7484 76.4034 62.7563C76.3581 62.7641 76.3128 62.7641 76.2674 62.7719H76.2221C76.1616 62.7719 76.1087 62.7797 76.0483 62.7797C75.9879 62.7797 75.935 62.7797 75.8745 62.7719H75.8292C75.7838 62.7719 75.7385 62.7641 75.6932 62.7563C75.6781 62.7563 75.6705 62.7563 75.6554 62.7484C75.6025 62.7406 75.542 62.7328 75.4892 62.7172C75.474 62.7172 75.4665 62.7094 75.4514 62.7094C75.406 62.7016 75.3607 62.6859 75.3229 62.6781C75.3078 62.6703 75.2927 62.6703 75.2776 62.6625C75.2247 62.6469 75.1718 62.6313 75.1189 62.6078C75.066 62.5922 75.0207 62.5688 74.9678 62.5453L74.9224 62.5219C74.8847 62.5063 74.8393 62.4828 74.8015 62.4594C74.794 62.4516 74.7789 62.4516 74.7713 62.4438C74.726 62.4203 74.6731 62.3891 74.6278 62.3578C74.6202 62.35 74.6051 62.3422 74.5975 62.3344C74.5598 62.3109 74.522 62.2875 74.4918 62.2563C74.4766 62.2484 74.4691 62.2406 74.454 62.2328C74.4086 62.2016 74.3633 62.1625 74.3255 62.1313C74.2877 62.1 74.2424 62.0609 74.2046 62.0219L74.1744 61.9906L74.0837 61.8969L74.0611 61.8734C74.0233 61.8344 73.9855 61.7875 73.9553 61.7484C73.9477 61.7406 73.9402 61.725 73.9326 61.7172C73.9024 61.6859 73.8797 61.6469 73.857 61.6078C73.8495 61.5922 73.8419 61.5844 73.8344 61.5688L73.7437 61.4281V61.4203C73.7135 61.3734 73.6908 61.3266 73.6681 61.2797C73.4717 60.8891 73.3583 60.4438 73.3583 59.975C73.3583 59.5063 73.4717 59.0609 73.6681 58.6703Z' fill='#1890FF' />
              </svg>

            </Row>
            <Row>
              <Menu
                mode='inline'
                defaultSelectedKeys={['1']}
                defaultOpenKeys={['Dashboard']}
                style={{
                  height: '105%'

                }}
                items={MenuItems}
                onClick={pageChangeHandler}
              />
            </Row>

            <Row align='bottom'>
              <Button onClick={() => logout()} block type='primary' style={{ marginLeft: '10px', marginRight: '10px', marginTop: '435px' }} danger>
                Logout
              </Button>
            </Row>

          </Sider>
          <Content
            style={{
              padding: '5 24px',
              minHeight: 863
            }}
          >
            {currentDashboard}
          </Content>
        </Layout>
      </Content>
      <Footer
        style={{
          textAlign: 'center',
          backgroundColor: '#3c9ce4',
          color: 'white'
        }}
      >
        BilCargo ©2022
      </Footer>
    </Layout>
  )
}
export default AdminHome
